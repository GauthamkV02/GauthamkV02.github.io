<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year 2025!</title>

<!-- Font Awesome for heart icon -->
<script src="https://kit.fontawesome.com/a14ae32021.js" crossorigin="anonymous"></script>

<!-- Custom CSS -->
<link href="css/default.css" rel="stylesheet">

<!-- jQuery -->
<script src="js/jquery.js"></script>

<!-- Garden animation script -->
<script src="js/garden.js"></script>

<!-- Custom functions (burst + heart + countdown) -->
<script src="js/functions.js"></script>

<style>
@font-face {
  font-family: digit;
  src: url('digital-7_mono.ttf') format("truetype");
}
</style>

<script>
// Typewriter effect (original)
(function($) {
  $.fn.typewriter = function() {
    this.each(function() {
      var $ele = $(this), str = $ele.html(), progress = 0;
      $ele.html('');
      var timer = setInterval(function() {
        var current = str.substr(progress, 1);
        if (current == '<') {
          progress = str.indexOf('>', progress) + 1;
        } else {
          progress++;
        }
        $ele.html(str.substring(0, progress) + (progress & 1 ? '_' : ''));
        if (progress >= str.length) {
          clearInterval(timer);
        }
      }, 75);
    });
    return this;
  };
})(jQuery);
</script>

</head>

<body>

<div id="mainDiv">
  <div id="content">
    <!-- Code block with typewriter -->
    <div id="code">
      <span class="comments">/**</span><br>
      <span class="space"></span><span class="comments">* HAPPY NEW YEAR MESSAGE</span><br>
      <span class="space"></span><span class="comments">*/</span><br>
      Hey there!<br>
      Wishing you a <strong>Happy New Year 2025!</strong><br>
      May this year bring joy, laughter, and success.<br>
      <br>
      <span id="heartspan">
        <a href="#"><i class="fas fa-heart" id="icon"></i></a>
      </span>
    </div>

    <!-- Heart animation canvas -->
    <div id="loveHeart">
      <canvas id="garden"></canvas>
      <div id="words">
        <div id="messages">
          CHEERS TO 2025!
          <div id="elapseClock"></div>
        </div>
        <div id="loveu">
          HAPPY NEW YEAR<br/>
          <div class="signature">- With Love</div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
var offsetX = $("#loveHeart").width() / 2;
var offsetY = $("#loveHeart").height() / 2 - 55;

// Countdown reference date
var newYear = new Date();
newYear.setFullYear(2025, 0, 1);
newYear.setHours(0,0,0,0);

if (!document.createElement('canvas').getContext) {
  var msg = document.createElement("div");
  msg.id = "errorMsg";
  msg.innerHTML = "Your browser doesn't support HTML5 canvas!";
  document.body.appendChild(msg);
  $("#code").hide();
} else {
  setTimeout(function () {
    startBloomBurst(); // Burst starts automatically
  }, 1000);

  // Countdown
  timeElapse(newYear);
  setInterval(function () { timeElapse(newYear); }, 500);

  // Start typewriter animation
  $("#code").typewriter();
}
</script>

</body>
</html>
